# AI 分析提示词模板

使用这些模板从 API 数据生成自然语言洞察。

## 聊天总结模板

当分析来自 `/messages` 和 `/analysis/*` 端点的聊天数据时：

```
基于聊天数据：
- 消息总数：{count}
- 时间范围：{start_date} 至 {end_date}
- 活跃天数：{days}
- 消息类型：{type_distribution}

生成简洁总结，涵盖：
1. 沟通频率和模式
2. 最活跃的时间段
3. 消息类型偏好
4. 值得注意的趋势或变化
```

**输出格式：**
- 使用项目符号列出关键统计数据
- 适度使用表情符号增强视觉清晰度（📊 📈 💬 ⏰）
- 总结控制在 200 字以内
- 以 2-3 条可操作的洞察结束

---

## 关系分析模板

当分析来自多个分析端点的关系数据时：

```
关系分析对象：{contact_name}

数据点：
- 消息总数：{count}
- 沟通时长：{days} 天
- 平均每天消息数：{avg}
- 每小时活跃度：{hourly_peak}
- 星期活跃度：{weekday_peak}
- 消息类型：{type_breakdown}

分析：
1. 关系强度（基于频率和一致性）
2. 沟通模式（何时以及如何互动）
3. 关系轨迹（增长/稳定/下降）
4. 这段关系的独特特征
```

**输出格式：**
- 以关系强度评级开始（强/中等/弱）
- 用自然语言描述沟通模式
- 用支持数据识别趋势
- 提供 2-3 条具体建议

---

## 社交洞察模板

当分析来自 `/analysis/personal/top_contacts` 和 `/dashboard` 的数据时：

```
社交网络概览：
- 联系人总数：{total_contacts}
- 活跃会话：{active_sessions}
- 前 10 位联系人：{top_list}
- 群聊数量：{chatroom_count}

生成关于以下方面的洞察：
1. 社交圈构成
2. 沟通分布（集中 vs. 分散）
3. 最重要的关系
4. 潜在的空白或机会
```

**输出格式：**
- 对联系人分类（亲密朋友、同事、家人等）
- 识别沟通不平衡
- 建议关系维护行动

---

## 趋势分析模板

当分析来自 `/analysis/daily` 或 `/analysis/monthly` 的时间序列数据时：

```
活跃度趋势数据：
- 时期：{start} 至 {end}
- 数据点：{daily_or_monthly_counts}
- 峰值活跃度：{peak_date} 有 {peak_count} 条消息
- 低谷活跃度：{low_date} 有 {low_count} 条消息

分析：
1. 整体趋势方向（增长/稳定/下降）
2. 显著的峰值或低谷
3. 季节性或周期性模式
4. 与外部因素的相关性（如用户提及）
```

**输出格式：**
- 使用趋势指示符（📈 📉 ➡️）
- 突出显著变化
- 为模式提供背景
- 适当时建议解释

---

## 群聊分析模板

当分析来自 `/analysis/member_activity` 和 `/chatrooms` 的群聊数据时：

```
群聊：{chatroom_name}
- 成员总数：{member_count}
- 消息总数：{message_count}
- 活跃成员：{active_count}
- 主要贡献者：{top_members}
- 消息类型分布：{types}

分析：
1. 群组动态（谁主导、谁沉默）
2. 参与度水平（活跃 vs. 被动成员）
3. 沟通模式
4. 群组健康指标
```

**输出格式：**
- 按活跃度对成员分类
- 识别关键贡献者和潜水者
- 评估群组参与度
- 如需要提供改进建议

---

## 客户关系模板

当分析来自 `/contacts/need-contact` 的数据时：

```
客户关系回顾：
- 需要跟进的联系人：{count}
- 标准：{days} 天未联系
- 列表：{customer_list}

对每位客户：
- 上次联系：{date}
- 距上次联系天数：{days}
- 之前互动频率：{frequency}
- 消息数量：{count}

生成：
1. 优先级排序（紧急/重要/常规）
2. 建议的联系时机
3. 基于历史的对话开场白
4. 关系维护策略
```

**输出格式：**
- 按紧急性和重要性排序
- 提供具体行动项
- 建议个性化方法
- 包含时机建议

---

## 搜索结果总结模板

当分析来自 `/search` 的搜索结果时：

```
搜索查询："{keyword}"
- 结果总数：{count}
- 时间跨度：{earliest} 至 {latest}
- 上下文：{talker_list}
- 消息类型：{types}

总结：
1. 主要主题或话题
2. 关键对话或线索
3. 重要日期或事件
4. 相关背景
```

**输出格式：**
- 按主题或上下文分组结果
- 突出最相关的匹配
- 提供时间背景
- 适当时建议相关搜索

---

## 年度报告总结模板

当分析来自 `/report/annual` 的数据时：

```
{year} 年度报告：
- 消息总数：{total}
- 活跃天数：{days}
- 前几位联系人：{top_list}
- 最活跃月份：{month}
- 最活跃时段：{hour}
- 消息类型分布：{types}
- 月度趋势：{trend_data}

生成叙述性总结，涵盖：
1. 年度回顾（亮点和里程碑）
2. 沟通模式和变化
3. 最重要的关系
4. 个人洞察和成长
5. 展望未来（对下一年的建议）
```

**输出格式：**
- 使用引人入胜的个人化语气
- 采用讲故事的方式
- 包含令人惊讶或有趣的发现
- 以前瞻性建议结束

---

## 通用指南

### 语气和风格
- 专业但对话式
- 数据驱动但易读
- 客观但有同理心
- 简洁但全面

### 数据呈现
- 始终引用具体数字
- 使用百分比进行比较
- 突出显著变化（>20%）
- 为统计数据提供背景

### 建议
- 使其具体且可操作
- 基于数据模式
- 考虑用户可能的目标
- 按影响力排序

### 避免
- 从有限数据过度概括
- 对关系做出假设
- 评判性语言
- 过多的技术术语
